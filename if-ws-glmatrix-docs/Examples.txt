% Examples

## Dom manipulation

The following example changes the  background of every second list item
in all the list with the id `MyList`:

    #fsharp
    [<JavaScript>]
    let ChangeBackground () =
        JQuery.Of("#MyList li").Each(fun (el: Dom.Element) ix ->
            if ix % 2 = 0 then
                JQuery.Of(el).Css("background-color", "red").Ignore
        )
        |> ignore
![jq-dom-manipulation.png](jq-dom-manipulation.png)\


## Ajax

Here is an example using the `GetJSON` function for fetching JSON data
from the server. The file data.json may look like:

    #javascript
    {
      "Name": "John Smith",
      "Email": "john-smith@john-smith.com"
    }

an unsafe cast is used to enable a typed representing of the received
data object:


    #fsharp
    [<JavaScriptType>]
    type Data =
        {
          Name : string
          Email : string
        }

    [<JavaScript>]
    let AjaxCall () =
        JQuery.GetJSON("data.json", fun (data, _) ->
            let data : Data = unbox box data
            let nameLabel =
                JQuery.Of("<div>/<div>").Text("Name: " + data.Name)
            let descrLabel =
                JQuery.Of("<div>/<div>").Text("Email: " + data.Email)
            JQuery.Of("<p></p>").
                Append(nameLabel).
                Append(descrLabel).
                AppendTo("body").
                Ignore
        )

![jq-ajax.png](jq-ajax.png)\


## Attaching event handlers

Below is an example of how to construct a button and add an event-handler
for the click event:

    #fsharp
    [<JavaScript>]
    let ButtonWithEvent () =
        JQuery.Of("<button></button>").
            Text("Click").
            Click(fun _ _ ->
                Window.Alert("Button clicked")
            ).
            AppendTo("body").
            Ignore


![jq-events.png](jq-events.png)\